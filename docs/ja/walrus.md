# 🐘 ConvictionFi | Walrus ストレージ仕様と運用ガイド

ConvictionFi では、すべての NFT に関連する重要なメタデータを  
**改ざん不可かつ永続的な形式で保管するために、[Walrus](https://walrus.ai)** を使用しています。

このドキュメントでは、Walrus の役割・保存構造・運用方針を解説します。

---

## 📦 保存対象（NFT ごとに保存されるデータ）

Walrus 上には、各 Conviction NFT に紐づく以下の情報が保存されます：

- **戦略情報**（ストラテジー名、ルール、指標、対象アセット）
- **信念ステートメント**
- **リスクパラメータ**
- **実行対象ホワイトリスト／ブラックリスト**
- **エージェントバージョン・進化履歴**
- **ミントタイムスタンプ**
- **取引履歴の要約（オプション）**

これらは **JSON 形式**で格納され、NFT のメタデータ URI から参照可能です。

---

## 🛡️ Walrus を使う理由

| 要件                   | Walrus が満たす特徴                                   |
| ---------------------- | ----------------------------------------------------- |
| 改ざん不可             | コンテンツアドレス化（CID）によりデータの不変性を保証 |
| 永続性                 | データは削除不可能。将来の審査や証明にも使用可能      |
| 透明性                 | 誰でも URI から内容を確認可能                         |
| 監査対応性             | 全てのバージョン履歴が保存可能（append-only）         |
| オフチェーンコスト削減 | ブロックチェーンへの保存コストを回避                  |

---

## 🗂️ 保存形式（例）

```json
{
  "strategy": {
    "name": "Trump Bull v1",
    "logic": "buy_on_sentiment",
    "parameters": { "threshold": 0.8 }
  },
  "conviction": "Trump’s influence will drive memecoin rallies",
  "risk_profile": {
    "max_trade_per_day": 3,
    "max_position_pct": 0.25,
    "autostop_on_loss": true
  },
  "execution_policy": {
    "whitelisted_contracts": ["0xuniswap...", "0xwormhole..."],
    "allowed_eoa_targets": ["0xoracle1..."]
  },
  "agent_wallet": "0xabc123...",
  "minted_at": "2025-05-23T11:00:00Z",
  "version": "v1.0.0"
}
```

```

---

## 🔁 アップデートポリシー

Walrus は「追記のみ（append-only）」構造のため：

- **戦略の進化やアップグレード**も、既存データを上書きせず「新しいバージョン」として記録
- 各 NFT の URI は常に最新のバージョンを指しつつ、**過去履歴へのトレースも保証**

この構造により、**ユーザー・監査者・コミュニティが意思決定ロジックの変遷を確認可能**です。

---

## 🔍 ウォレット単位での閲覧

各 NFT に対して：

- Walrus 上の **エージェントメタデータ URI** は、NFT ミント時に生成され、永続的に紐づきます。
- ダッシュボードから該当 NFT を開くと、メタデータの内容（信念・リスク・実行先）をリアルタイムで確認可能

---

## 🔐 セキュリティと検証性

- すべての URI は CID（Content Identifier）でバリデート可能
- エージェントロジックの不正変更・隠蔽は技術的に不可能
- ミント後の戦略変更は、ユーザーや運営による**新規バージョンとしてのみ**可能（要ガバナンス対応）

---

## 🔮 将来的な応用

Walrus は以下の拡張にも対応します：

- **ガバナンス提案**のログ保存
- **AI エージェントのログ記録**（行動理由、トレード理由など）
- **NFT 間での履歴継承**（エージェントの血統管理）

---

ConvictionFi における Walrus の役割は、単なるデータ保存ではありません。
それは「思想と透明性を担保するインフラ」であり、DeFAI の安全性と信頼性を支える不可欠な要素です。
```
