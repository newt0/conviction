# 🧾 ConvictionFi | NFT スマートコントラクトウォレット設計仕様

ConvictionFi では、各 NFT に対して**専用のスマートコントラクトウォレット**を発行し、ユーザーの資産を完全に分離・保護します。

このウォレットは、NFT が自律運用するための実行基盤であり、ユーザーの操作なしで AI エージェントが資産を管理・トレードできる仕組みです。

---

## 🏗️ 基本構造

| 項目           | 説明                                                             |
| -------------- | ---------------------------------------------------------------- |
| ウォレット種別 | スマートコントラクト型ウォレット（Move / EOA ではない）          |
| 紐付け         | NFT ごとに 1 つのウォレット（1 対 1）                            |
| 管理者         | DeFAI エージェント（AI）                                         |
| 権限管理       | 認可済みエージェントアドレスのみが操作可能（ACL）                |
| 資産の種類     | SUI / トークン / NFT（将来的に）                                 |
| 取引制御       | リスクパラメータに基づく自動制御（例：最大 1 日 3 トレードなど） |

---

## 🔐 セキュリティ設計

- ✅ **ユーザーウォレットと完全に分離**
  - エージェントはユーザー本体の鍵にアクセスできない
- ✅ **ウォレットアドレスは NFT メタデータに明記**
- ✅ **Withdraw 条件は厳格に設計可能**
  - タイムロック付き出金
  - ガバナンス承認による出金
  - 完全非出金型（NFT 売却でのみ換金＝ floor model）

---

## 🔄 トレードフロー例

1. ユーザーが NFT をミント → ウォレットが生成
2. 資金（例：100 SUI）をウォレットに入金
3. エージェントが条件を満たした場合に取引を実行
4. トレード履歴と成績が Walrus に記録、ダッシュボードで確認可能

---

## 📦 構成例（Move 環境）

```move
struct ConvictionWallet has key {
    owner_nft_id: ID,
    balance: Coin<SUI>,
    authorized_agent: address,
    trade_history: vector<TradeRecord>,
    risk_profile: RiskProfile
}
```

---

## ❌ 防止したい事例

| リスク                           | 対策                                         |
| -------------------------------- | -------------------------------------------- |
| エージェントが資金をラグした     | 実行先は Whitelist されたコントラクトに限定  |
| NFT が売却後もウォレットが残る   | ミントとバーンでウォレットも生成・破棄を連動 |
| 人的オペレーションによる資金移動 | 完全自動化（マニュアル送金操作を排除）       |

---

## 🧬 将来の拡張性

- エージェントウォレットの再利用（進化後に引き継ぎ）
- トークン報酬・ポイントの蓄積機能
- NFT を担保にした流動性ロジック（AgentFi × Lending）

---

ConvictionFi における NFT ウォレットは、
\*\*「思想が守る資産」\*\*という世界観を実装するコアコンポーネントです。

信頼と透明性、そして自律性を支える土台として設計されています。
